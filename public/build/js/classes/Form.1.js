import{mistakes,ui}from"./Form.js";export default class Form{constructor(){}sendForm(){const e=document.querySelector(".form"),t=document.querySelectorAll(".input"),a=document.querySelector("#number");e.addEventListener("submit",(e=>{e.preventDefault();for(let e of t)this.validateInput(e);this.validateNumber(a),!1===mistakes.vacio&&!1===mistakes.formatWrong&&ui.successCode()}))}inputVacios(){const e=document.querySelectorAll(".input");for(let t of e)t.addEventListener("keyup",(()=>{this.validateInput(t)}))}cardNumber(){document.querySelector("#number").addEventListener("keyup",(e=>{e.target.value&&"Backspace"!==e.key&&(e.target.value=ui.formatearNumero(e.target.value)),this.validateNumber(e.target)}))}validateInput(e){if(""===e.value){let t="Can't be blank";const a=ui.imprimirAlerta(t,e);mistakes.vacio=a}else mistakes.vacio&&(mistakes.vacio=!1),ui.limpiarAlerta(e),ui.realTimeCard(e)}validateNumber(e){let t=e.value,a=0;for(let r=0;r<t.length;r++)if(!parseInt(t[r])&&" "!==t[r]&&"0"!==t[r]){let t="Wrong format, numbers only";const r=ui.imprimirAlerta(t,e);a++,mistakes.formatWrong=r}0===a&&mistakes.formatWrong&&(mistakes.formatWrong=!1)}validateDate(){document.querySelector("#date"),document.querySelector("#year")}validateCVC(){}dateFormat(){const e=document.querySelector("#date"),t=document.querySelector("#year");e.addEventListener("keydown",(e=>{if("Backspace"!==e.key){let t=e.target;t.value=ui.addZero(t.value),t.value.length>1&&"1"===t.value[1]&&parseInt(e.key)<3&&(t.value=ui.formatDate(t.value,e.key))}"Backspace"===e.key&&(e.target.value="")})),t.addEventListener("keydown",(e=>{if("Backspace"!==e.key){let t=e.target;t.value=ui.addZero(t.value),t.value.length>1&&(t.value=ui.formatDate(t.value,e.key)),console.log()}"Backspace"===e.key&&(e.target.value="")}))}}